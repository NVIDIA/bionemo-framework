defaults:
  - base_infer_config
  # allow this config to override defaults
  - _self_

hydra:
  searchpath:
     - file://${oc.env:BIONEMO_HOME}/examples/conf/
     - file:///workspace/bionemo/examples/conf/

name: MegaMolBART_Inference
desc: Minimum configuration for initializing a MegaMolBART model for inference.

model:
  tokenizer:
    vocab_path: /model/molecule/megamolbart/vocab/megamolbart.vocab
    model_path: /model/molecule/megamolbart/vocab/megamolbart.model
  downstream_task:
    restore_from_path: /model/molecule/megamolbart/megamolbart.nemo
    outputs: [embeddings, hiddens] # Which outputs to extract per sample (a value or list). Possible values: hiddens, embeddings.
  data:
    dataset_path: /data/netsurfp_2.0/val/x000 # full path to dataset (can include range or a list)

target: bionemo.model.molecule.megamolbart.megamolbart_model.MegaMolBARTModel # path to model class to load
infer_target: bionemo.model.molecule.megamolbart.infer.MegaMolBARTInference # path to inferende class to load

##############

# name: MegaMolBART_Inference
# desc: Minimum configuration for initializing a MegaMolBART model for inference.

# model:
#   model_path: /model/molecule/megamolbart/megamolbart.nemo
#   parallel_size: 1

#   tokenizer:
#     vocab_path: /model/molecule/megamolbart/vocab/megamolbart.vocab
#     model_path: /model/molecule/megamolbart/vocab/megamolbart.model

#   data:
#     encoder_augment: False
#     encoder_mask: False
#     decoder_augment: False
#     decoder_mask: False
#     mask_prob: 0

# formatters:
#   simple:
#     format: '[%(asctime)s][%(name)s][%(levelname)s] - %(message)s'
# handlers:
#   console:
#     class: logging.StreamHandler
#     formatter: simple
#     stream: ext://sys.stdout
#   file:
#     class: logging.FileHandler
#     formatter: simple
#     filename: /logs/nemo_megamolbart.log
# root:
#   level: INFO
#   handlers: [console, file]

# disable_existing_loggers: false